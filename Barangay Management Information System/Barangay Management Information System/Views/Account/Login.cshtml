@using Barangay_Management_Information_System.Models
@model LoginViewModel
@{
    ViewBag.Title = "Log in";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>

    .card, .highlight {
        min-width: 470px;
    }

    body {
        font-family: 'Segoe UI';
        background-image: linear-gradient(to top right, #001510, #00bf8f);
    }

    .highlight {
        background-image: linear-gradient(100deg, #00533f, #00bf8f);
    }

    .control-label {
        color: #008160;
        font-weight: 600;
        font-size: 17px;
        letter-spacing: 2px;
    }

    .form-control {
        color: #003f30;
        letter-spacing: 2px;
    }

    .form-control:focus {
        border-color: #28a745;
        box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
    } 
</style>


<div class="container h-100">

    <div class="row" style="        display: flex;
        justify-content: center;
        align-items: center;
        height: 85vh">

        <div class="col-md-8">

            <div class="highlight shadow pt-5 rounded-top"></div>

            <div class="card shadow-lg p-2 pl-4 pr-4 bg-white rounded-bottom">

                <div class="card-body">
                    <div class="row">
                        <img src="~/Content/Images/Sinisian.png" class="ml-3" style="width:80px; height:80px;" />
                        <h2 class="my-auto ml-4" style="color: #003f30;">Login</h2>
                    </div>


                    <div class="mt-4">

                        @using (Html.BeginForm("Login", "Account", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "form-horizontal", role = "form", onsubmit = "loading()" }))
                        {
                            @Html.AntiForgeryToken()

                            @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                            <div class="form-group">

                                @Html.LabelFor(m => m.Username, new { @class = "col-md-12 control-label" })
                                <div class="col-md-12">
                                    @Html.TextBoxFor(m => m.Username, new { @class = "form-control" })
                                    @Html.ValidationMessageFor(m => m.Username, "", new { @class = "text-danger" })
                                </div>

                            </div>

                            <div class="form-group">

                                @Html.LabelFor(m => m.Password, new { @class = "col-md-12 control-label" })
                                <div class="col-md-12">
                                    @Html.PasswordFor(m => m.Password, new { @class = "form-control" })
                                    @Html.ValidationMessageFor(m => m.Password, "", new { @class = "text-danger" })
                                </div>

                            </div>

                            <div class="form-group">

                                <div class="col-md-12">
                                    <span class=" ml-2 mr-2" id="loading"></span>

                                    <div class="checkbox float-left">
                                        @Html.CheckBoxFor(m => m.RememberMe)
                                        <label style="font-weight:600; color: #003f30;">Remember me?</label>
                                    </div>

                                    <input type="submit" value="Log in" class="btn btn-success float-right" id="submit-btn" style="font-weight: 600;" />

                                </div>

                            </div>

                            @*<div class="form-group">

                                    <div class="col-md-12">
                                        <div class="checkbox">
                                            @Html.CheckBoxFor(m => m.RememberMe)
                                            @Html.LabelFor(m => m.RememberMe)
                                        </div>
                                    </div>

                                </div>*@

                        }

                    </div>

                </div>

            </div>

        </div>

    </div>



</div>


@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")


    <script>

        function loading() {

            var element = document.getElementById("loading");
            element.classList.add("spinner-border"); 

            element.classList.add("spinner-border-sm");

            var button = document.getElementById("submit-btn");
            button.classList.add("disabled");
            button.disabled = true;

            console.log("1");
        }

    </script>

}